# ============================================
# CONFIGURAÇÃO DE SEGURANÇA - API KEY AUTH
# ============================================
# Este arquivo é um EXEMPLO. Crie um arquivo .env real com valores seguros.
# NUNCA commite o arquivo .env real no repositório!

# ===== SERVIDOR =====
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# ===== DATABASE =====
# Use um caminho seguro e protegido para o banco de dados SQLite
# Em produção, considere migrar para PostgreSQL com SSL
DB_PATH=./data/auth.db

# ===== JWT / TOKENS =====
# Gere uma chave secreta MUITO longa e aleatória
# Mínimo 64 caracteres, use caracteres especiais
# Comando para gerar: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=seu_jwt_secret_muito_longo_e_aleatorio_com_64_caracteres_no_minimo_!@#$%^&*()

# ===== SENHAS E AUTENTICAÇÃO =====
# Número de rounds para bcrypt (10-14 é recomendado, 12 é o padrão seguro)
BCRYPT_ROUNDS=12

# Máximo de tentativas de login antes de bloquear a conta
MAX_LOGIN_ATTEMPTS=5

# Tempo de lockout em milissegundos (15 minutos = 900000 ms)
LOCKOUT_TIME=900000

# ===== RATE LIMITING =====
# Esses valores controlam quantas requisições são permitidas
# Customize baseado no uso esperado

# Limite global de requisições (por IP)
GLOBAL_RATE_LIMIT_WINDOW=900000  # 15 minutos
GLOBAL_RATE_LIMIT_MAX=100         # 100 requisições

# Limite de autenticação (MUITO agressivo)
AUTH_RATE_LIMIT_WINDOW=900000     # 15 minutos
AUTH_RATE_LIMIT_MAX=3              # 3 tentativas

# Limite de registro
REGISTER_RATE_LIMIT_WINDOW=3600000 # 1 hora
REGISTER_RATE_LIMIT_MAX=5          # 5 registros

# ===== CORS =====
# Especifique os domínios permitidos (use domínio exato em produção)
CORS_ORIGIN=https://seu-dominio.com

# ===== SEGURANÇA ADICIONAL =====
# Enable/disable validações adicionais
ENABLE_IP_VALIDATION=true
ENABLE_HWID_VALIDATION=true
ENABLE_DEVICE_VALIDATION=true
ENABLE_REQUEST_LOGGING=true
ENABLE_AUDIT_LOG=true

# ===== LOGGING =====
# Nível de logging (error, warn, info, debug)
LOG_LEVEL=info

# Manter logs por quantos dias
LOG_RETENTION_DAYS=90

# ===== EMAIL (Opcional, para recuperação de senha) =====
# Configure um serviço de email para recuperação de conta
# EMAIL_SERVICE=gmail
# EMAIL_USER=seu-email@gmail.com
# EMAIL_PASSWORD=sua-senha-app

# ===== BACKUP =====
# Configure backup automático do banco de dados
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30

# ===== ADMIN =====
# Crie um usuário admin padrão
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=senha_admin_muito_segura_!@#$%^&*()

# ===== SEGREDOS ADICIONAIS =====
# Chave para criptografar dados sensíveis no banco de dados
ENCRYPTION_KEY=sua_chave_encryption_muito_longa_e_aleatoria_32_caracteres_hexadecimais

# ===== NOTIFICAÇÕES =====
# Configurar notificações de segurança
SECURITY_ALERT_EMAIL=seu-email@example.com
NOTIFY_ON_SUSPICIOUS_ACTIVITY=true
NOTIFY_ON_ACCOUNT_LOCK=true

# ===== CONFIGURAÇÕES DE PRODUÇÃO =====
# Apenas para ambiente de produção
PRODUCTION_MODE=false
ENABLE_HELMET=true
ENABLE_COMPRESSION=true

# ===== CRIPTOGRAFIA DE BANCO DE DADOS =====
# Encrypt senhas e dados sensíveis
ENCRYPT_PASSWORDS=true
ENCRYPT_API_KEYS=false # API Keys são já hasheados
ENCRYPT_HWID=true      # Pode querer criptografar HWID
